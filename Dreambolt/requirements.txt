# ───── Core CLI & Data Processing ────────────────────────────────────────
typer[all]>=0.16.0,<1.0.0          # latest stable with Python 3.13 support
pandas>=2.3.0,<3.0.0               # pin upper bound for stability
pyarrow>=20.0.0,<22.0.0            # pin upper bound for stability
polars>=1.31.0,<2.0.0              # pin upper bound for stability

# ───── LLM & DataDreamer deps ─────────────────────────────────────────────
# Note: DataDreamer requires manual installation from source
# pip install git+https://github.com/datadreamer-dev/DataDreamer.git
# datadreamer>=0.1.0                 # placeholder - install manually for now
openai>=1.25.0,<2.0.0
transformers>=4.52.0,<5.0.0
accelerate>=1.3.0,<2.0.0
torch>=2.7.0,<3.0.0
bitsandbytes>=0.45.0,<1.0.0 ; platform_system=="Linux"

# ───── Firebolt Integration ──────────────────────────────────────────────
firebolt-sdk>=0.15.0,<1.0.0

# ───── Firebolt Core Integration (Self-hosted) ───────────────────────────
# NEW: Docker and PostgreSQL support for free Firebolt Core
docker>=6.1.0,<8.0.0               # Docker SDK for Python
psycopg2-binary>=2.9.0,<3.0.0      # PostgreSQL adapter (binary distribution)

# ───── AWS S3 Support ────────────────────────────────────────────────────
boto3>=1.35.0,<2.0.0
s3fs>=2025.5.0,<2026.0.0
tqdm>=4.66.0,<5.0.0

# ───── Python 3.13 Compatibility Stack (Option A: Conservative) ─────────
# CRITICAL FIX: Pin to stable versions for immediate Python 3.13 compatibility
trio>=0.22.0,<0.26.0               # Explicit trio dependency, stable pre-3.13 range
httpcore>=1.0.0,<1.1.0             # Stable version compatible with trio 0.22-0.25
httpx>=0.27.0,<0.28.0              # Compatible with httpcore 1.0.x

# ───── Testing & Development ─────────────────────────────────────────────
pytest>=8.1.0,<9.0.0
pytest-cov>=5.0.0,<6.0.0
pytest-mock>=3.14.0,<4.0.0
pytest-randomly>=3.16.0,<4.0.0
moto[s3]>=4.2.0,<5.0.0             # CRITICAL FIX: Pin to v4.x (preserves mock_s3 imports)
psutil>=7.0.0,<8.0.0

# ───── Utilities ────────────────────────────────────────────────────────
python-dotenv>=1.0.1,<2.0.0
rich>=13.9.4,<14.0.0               # compatible with typer[all] constraint
loguru>=0.7.3,<1.0.0
pydantic>=2.11.0,<3.0.0

# ───── Code Quality (optional for dev) ───────────────────────────────────
ruff>=0.5.0,<1.0.0
mypy>=1.9.0,<2.0.0
